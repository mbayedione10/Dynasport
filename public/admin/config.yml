backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  - name: "categories"
    label: "Catégories"
    folder: "src/content/categories"
    create: true
    extension: "json"
    format: "json"
    slug: "{{id}}"
    fields:
      - {label: "ID (slug)", name: "id", widget: "string"}
      - {label: "Nom", name: "name", widget: "string"}
      - {label: "Description", name: "description", widget: "text"}
      - {label: "Image", name: "image_url", widget: "image"}
      - {label: "Actif", name: "active", widget: "boolean", default: true}
      - label: "Tags"
        name: "category_tags"
        widget: "list"
        required: false
        fields:
          - {label: "Nom du tag", name: "name", widget: "string"}

  - name: "products"
    label: "Produits"
    folder: "src/content/products"
    create: true
    extension: "json"
    format: "json"
    slug: "{{slug}}"
    fields:
      - {label: "Nom", name: "name", widget: "string"}
      - {label: "Catégorie", name: "category_id", widget: "relation", collection: "categories", search_fields: ["name"], value_field: "id", display_fields: ["name"]}
      - {label: "Description", name: "description", widget: "text"}
      - {label: "Image", name: "image_url", widget: "image"}
      - {label: "Actif", name: "active", widget: "boolean", default: true}

  - name: "references"
    label: "Références"
    folder: "src/content/references"
    create: true
    extension: "json"
    format: "json"
    slug: "{{team_name | slugify}}"
    fields:
      - {label: "Nom de l'équipe", name: "team_name", widget: "string"}
      - {label: "Image", name: "image_url", widget: "image"}
      - {label: "Description", name: "description", widget: "text", required: false}
      - {label: "Actif", name: "active", widget: "boolean", default: true}

  - name: "testimonials"
    label: "Témoignages"
    folder: "src/content/testimonials"
    create: true
    extension: "json"
    format: "json"
    slug: "{{name | slugify}}"
    fields:
      - {label: "Nom", name: "name", widget: "string"}
      - {label: "Rôle / Fonction", name: "role", widget: "string"}
      - {label: "Avatar", name: "avatar_url", widget: "image"}
      - {label: "Témoignage", name: "content", widget: "text"}
      - {label: "Ordre", name: "order", widget: "number", default: 1}
      - {label: "Actif", name: "active", widget: "boolean", default: true}

  - name: "featured"
    label: "Produits Vedettes"
    folder: "src/content/featured"
    create: true
    extension: "json"
    format: "json"
    slug: "{{name | slugify}}"
    fields:
      - {label: "Nom", name: "name", widget: "string"}
      - {label: "Image", name: "image_url", widget: "image"}
      - {label: "Prix", name: "price", widget: "string", required: false}
      - {label: "Description", name: "description", widget: "text"}
      - {label: "Badge", name: "badge", widget: "string", hint: "Ex: Best-seller, Populaire, Nouveau"}
      - {label: "Actif", name: "active", widget: "boolean", default: true}
